# 📂 專案檔案結構與用途說明 (Backend File Guide)

這份文件說明 `backend/` 資料夾內各個檔案的具體用途，方便開發者快速查找。

## 🐍 Backend 資料夾 (`backend/`)

| 檔案名稱 | 角色 | 用途說明 |
| :--- | :--- | :--- |
| **`app.py`** | **👑 店長 (主程式)** | 整個網站的入口。負責啟動 Flask 伺服器，接收前端的請求 (API Request)，指揮其他模組工作，最後回傳 JSON 給網頁。 |
| **`alert_monitor.py`** | **👮 警報監視器** | 背景執行緒。每 5 分鐘自動去氣象局檢查一次有無「颱風」或「豪雨」特報，完全獨立運作，不影響主網頁。 |
| **`data_logger.py`** | **📝 記錄員** | 資料庫寫入介面。負責將使用者查詢過的天氣資料 (城市、溫度、時間) 寫入 (`INSERT`) SQLite 資料庫中。 |
| **`data_analysis.py`** | **🧠 數據分析師** | 負責從資料庫讀取歷史紀錄，利用 **Pandas** 進行運算，算出平均溫、最高溫、歷史最冷日等統計數據。 |
| **`data_exporter.py`** | **📦 匯出專員** | 負責將資料庫的內容打包轉換成 Excel (`.xlsx`) 檔案，並透過 Flask 傳送給使用者下載。 |
| **`recommender.py`** | **👗 穿搭顧問** | 封裝了穿搭建議的邏輯。接收「溫度」與「降雨機率」，回傳建議的穿搭文字 (如：洋蔥式穿搭、記得帶傘)。 |
| **`db_manager.py`** | **👷 資料庫工頭** | 負責初始化。在系統第一次啟動時執行 `CREATE TABLE`，建立資料庫檔案與結構。 |
| **`config.ini`** | **⚙️ 設定檔** | 存放不希望寫死在程式碼裡的設定值 (如資料庫路徑、API Key、Log 設定)，方便隨時修改。 |

---

## 📡 API 資料夾 (`api/`)

雖然不在 `backend` 資料夾內，但這也是後端核心的一部分：

| 檔案名稱 | 角色 | 用途說明 |
| :--- | :--- | :--- |
| **`weather_api.py`** | **🛍️ 採購部** | 負責對外連線。使用 `requests` 向 **氣象署 (CWA)** 與 **環境部 (EPA)** 的 API 發出請求，並將回傳的複雜資料清洗成乾淨的格式。 |

---

## 💡 快速記憶口訣
*   **`app.py`** 是老大，一切從它開始。
*   **`data_` 開頭** 的有三個，分別管：**存 (Logger)**、**算 (Analysis)**、**匯出 (Exporter)**。
*   **`monitor`** 是自己在背景跑的。
*   **`manager`** 是管建置資料庫的。
